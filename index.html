<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
<title>Rubik's Cube</title>

<!-- UI STYLES (UNCHANGED STRUCTURE) -->
<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:#000;
  overflow:hidden;
  font-family:'Courier New',monospace;
}

.ui{
  position:relative;
  width:100%;
  height:100%;
}

.ui__background{
  position:absolute;
  inset:0;
  background:radial-gradient(circle at center,#111,#000);
  z-index:0;
}

.ui__game{
  position:absolute;
  inset:0;
  z-index:1;
}

.ui__texts,
.ui__prefs,
.ui__theme,
.ui__stats,
.ui__buttons{
  position:absolute;
  z-index:5;
  color:#0f0;
}

.ui__texts{
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
}

.text--title span{
  display:block;
  font-size:3rem;
  letter-spacing:.2rem;
}

.text{
  opacity:.9;
}

.ui__buttons{
  inset:0;
  pointer-events:none;
}

.btn{
  pointer-events:auto;
  position:absolute;
  background:#000;
  border:1px solid #0f0;
  color:#0f0;
  padding:10px;
}
.btn--bl{left:20px;bottom:20px}
.btn--br{right:20px;bottom:20px}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/95/three.min.js"></script>
</head>

<body>

<div class="ui">

  <div class="ui__background"></div>

  <div class="ui__game"></div>

  <div class="ui__texts">
    <h1 class="text text--title">
      <span>THE</span>
      <span>CUBE</span>
    </h1>
    <div class="text text--note">Double tap to start</div>
    <div class="text text--timer">0:00</div>
    <div class="text text--complete"><span>Complete!</span></div>
    <div class="text text--best-time"><span>Best Time!</span></div>
  </div>

  <div class="ui__prefs"></div>
  <div class="ui__theme"></div>
  <div class="ui__stats"></div>

  <div class="ui__buttons">
    <button class="btn btn--bl">STATS</button>
    <button class="btn btn--br">SETTINGS</button>
  </div>

</div>

<script>
/* ================== THREE SETUP ================== */
let scene,camera,renderer,cubeGroup;

init();
animate();

function init(){
  const container=document.querySelector('.ui__game');

  scene=new THREE.Scene();

  const w=container.clientWidth;
  const h=container.clientHeight;

  camera=new THREE.PerspectiveCamera(45,w/h,0.1,100);
  camera.position.set(6,6,6);
  camera.lookAt(0,0,0);

  renderer=new THREE.WebGLRenderer({antialias:true,alpha:true});
  renderer.setSize(w,h);
  renderer.setPixelRatio(window.devicePixelRatio);
  container.appendChild(renderer.domElement);

  scene.add(new THREE.AmbientLight(0xffffff,.8));
  const d=new THREE.DirectionalLight(0xffffff,.6);
  d.position.set(5,10,7);
  scene.add(d);

  cubeGroup=buildCube();
  scene.add(cubeGroup);

  window.addEventListener('resize',resize);
}

function resize(){
  const c=document.querySelector('.ui__game');
  camera.aspect=c.clientWidth/c.clientHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(c.clientWidth,c.clientHeight);
}

/* ================== CUBE ================== */
function buildCube(){
  const g=new THREE.Group();
  const C=[0xff0000,0xff8000,0xffffff,0xffff00,0x00ff00,0x0000ff];

  for(let x=-1;x<=1;x++)
  for(let y=-1;y<=1;y++)
  for(let z=-1;z<=1;z++){
    const mats=[
      new THREE.MeshLambertMaterial({color:x==1?C[0]:0x111111}),
      new THREE.MeshLambertMaterial({color:x==-1?C[1]:0x111111}),
      new THREE.MeshLambertMaterial({color:y==1?C[2]:0x111111}),
      new THREE.MeshLambertMaterial({color:y==-1?C[3]:0x111111}),
      new THREE.MeshLambertMaterial({color:z==1?C[4]:0x111111}),
      new THREE.MeshLambertMaterial({color:z==-1?C[5]:0x111111}),
    ];
    const m=new THREE.Mesh(
      new THREE.BoxGeometry(.95,.95,.95),
      mats
    );
    m.position.set(x,y,z);
    g.add(m);
  }
  return g;
}

/* ================== LOOP ================== */
function animate(){
  requestAnimationFrame(animate);
  cubeGroup.rotation.y+=0.002;
  renderer.render(scene,camera);
}
</script>

</body>
</html>
